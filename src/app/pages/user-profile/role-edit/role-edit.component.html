<main class="container" role="main" aria-label="Role Edit">
  <div class="col-12 col-md-6">
    <h1 class="w-100 container-header">
      {{ type === 'create' ? ('userProfile.roleEdit.createTitle' | translate) : ('userProfile.roleEdit.modifyTitle' | translate) }}
    </h1>
    <span class="subtitle">
      {{ type === 'create' ? ('userProfile.roleEdit.createSubtitle' | translate) : ('userProfile.roleEdit.modifySubtitle' | translate) }}
    </span>
  </div>
  <br />
  <div>
    <div class="d-flex align-items-center gap-5">
      <div class="w-25">
        <h2 class="fw-bold">{{ 'userProfile.roleNew.roleName' | translate }}</h2>
      </div>
      <div>
        <gls-input
          [class]="'form-control'"
          [controlName]="'name'"
          [formGroup]="roleNameFormGroup"
          [placeholder]="'userProfile.roleNew.enterRoleName' | translate"
          [showError]="false"
          [label]="'userProfile.userList.columnList.Name' | translate"
          [type]="'text'" />
      </div>
    </div>
  </div>
  <hr />
  <app-role-edit-table
    [idUser]="idUser"
    (roleListUpdated)="onRoleListUpdated($event)"
    (getRoleName)="updateRoleNameControl($event)"
    [type]="type"
    [isSmallMobile]="isSmallMobile()"
    [isTablet]="isTablet()">
  </app-role-edit-table>
  <footer class="stepper-footer d-flex justify-content-start gap-2 bg-white p-3">
    <button class="btn btn-link" (click)="goToExit()">
      <em class="bi bi-arrow-left"></em>{{ 'anagrafica.structure.footerButtons.exit' | translate }}
    </button>
    <div class="ms-auto"></div>
    <button
      class="btn btn-primary"
      (click)="save()"
      [disabled]="
        (type === 'create' && (!roleNameFormGroup.valid || !hasPermissions)) || (type === 'edit' && !hasPermissions && !roleNameChanged)
      ">
      <span>{{ 'anagrafica.structure.footerButtons.saveModifications' | translate }}</span>
      &rarr;
    </button>
  </footer>
</main>
